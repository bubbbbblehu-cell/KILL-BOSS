# 🔐 登录方式说明

## 📧 当前登录方式：Magic Link（魔法链接）

### 什么是 Magic Link？

Magic Link 是一种**无密码登录**方式，用户只需：
1. 输入邮箱地址
2. 点击"发送登录链接"
3. 打开邮箱，点击邮件中的 **"Log In"** 按钮
4. 自动登录成功 ✅

### 为什么收不到验证码？

**因为邮件中没有验证码！** 

邮件中包含的是一个**可点击的登录链接**，而不是 6 位数字验证码。

---

## 📬 如何使用 Magic Link 登录

### 步骤 1：输入邮箱并发送
```
1. 在登录页面输入邮箱地址
2. 点击"发送登录链接"按钮
3. 等待提示"登录链接已发送至邮箱"
```

### 步骤 2：检查邮箱
```
1. 打开你的邮箱（Gmail、Outlook、QQ邮箱等）
2. 查找来自 Supabase 的邮件
3. ⚠️ 如果收件箱没有，检查"垃圾邮件"文件夹
```

### 步骤 3：点击登录链接
```
邮件内容示例：
┌─────────────────────────────┐
│  Magic Link                 │
│                             │
│  Click the link below to    │
│  sign in:                   │
│                             │
│  [Log In] ← 点击这个按钮     │
│                             │
│  有效期：1小时               │
└─────────────────────────────┘
```

### 步骤 4：自动登录
```
点击链接后，浏览器会自动打开应用并完成登录 🎉
```

---

## ⚠️ 常见问题

### Q1: 收不到邮件怎么办？

**原因 1：邮件在垃圾箱**
- ✅ 检查"垃圾邮件"或"促销邮件"文件夹
- ✅ 将 noreply@mail.app.supabase.io 添加到白名单

**原因 2：发送过于频繁**
- ⚠️ Supabase 限制：每小时每个邮箱最多发送 3-4 封邮件
- ✅ 解决方案：
  - 等待 1 小时后重试
  - 使用不同的邮箱地址
  - 在 Supabase Dashboard 手动创建用户

**原因 3：邮件延迟**
- ⏰ 邮件可能需要 1-3 分钟才能送达
- ✅ 耐心等待，刷新邮箱

### Q2: 点击链接后没有登录？

**可能原因：**
- 链接已过期（有效期 1 小时）
- 链接已被使用（一次性链接）
- 浏览器阻止了跳转

**解决方案：**
- 重新发送登录链接
- 确保在同一个浏览器中打开链接
- 检查浏览器是否阻止弹窗

### Q3: 我想要验证码登录，不想用链接

请查看 **[OTP_CODE_SETUP.md](OTP_CODE_SETUP.md)** 文档，了解如何配置验证码登录。

---

## 🆚 Magic Link vs 验证码登录

| 对比项 | Magic Link（当前） | 验证码登录 |
|--------|-------------------|-----------|
| **操作步骤** | 点击邮件中的链接 | 输入 6 位数字 |
| **用户体验** | ⭐⭐⭐⭐⭐ 简单快捷 | ⭐⭐⭐ 需要手动输入 |
| **安全性** | ⭐⭐⭐⭐⭐ 一次性链接 | ⭐⭐⭐⭐⭐ 一次性验证码 |
| **配置难度** | ✅ 无需配置 | ⚠️ 需要修改邮件模板 |
| **适用场景** | 快速登录 | 需要二次验证 |

---

## 🎯 推荐使用 Magic Link

### 优势：
1. ✅ **更快捷**：一键登录，无需记忆密码
2. ✅ **更安全**：链接一次性使用，自动过期
3. ✅ **更现代**：符合现代 Web 应用趋势
4. ✅ **更简单**：无需额外配置

### 知名应用都在使用：
- Slack
- Notion
- Medium
- Substack
- 等等...

---

## 🔧 其他登录方式

### 1. 游客模式
```
点击"以游客身份进入"即可立即体验
⚠️ 注意：游客模式下无法发帖和保存数据
```

### 2. 密码登录（需要先注册）
```
1. 在 Supabase Dashboard 创建用户
2. 设置邮箱和密码
3. 使用邮箱密码登录
```

---

## 📞 需要帮助？

如果仍然无法登录，请：
1. 查看浏览器控制台（F12）的错误信息
2. 检查 Supabase Dashboard 的用户列表
3. 参考 [MAGIC_LINK_LOGIN.md](MAGIC_LINK_LOGIN.md) 详细文档

---

**最后更新**: 2024年2月
**登录方式**: Magic Link（魔法链接）
**邮件发送限制**: 每小时 3-4 封

