# 验证码发送频率限制解决方案

## 🔴 问题说明

当看到错误 "email rate limit exceeded" (429 错误) 时，说明发送验证码过于频繁，触发了 Supabase 的速率限制。

## ⏰ Supabase 速率限制

Supabase 对邮箱验证码发送有以下限制：
- **每个邮箱地址**：每小时最多发送一定数量的验证码
- **每个 IP 地址**：也有频率限制
- **默认限制**：通常需要等待 **1 小时** 后才能再次发送

## ✅ 解决方案

### 方案1：等待后重试（推荐）

1. **等待时间**：通常需要等待 **1 小时**
2. **查看倒计时**：按钮会显示剩余等待时间
3. **倒计时结束后**：可以重新点击"发送验证码"

### 方案2：使用其他邮箱地址

如果急需登录，可以：
1. 使用另一个邮箱地址注册/登录
2. 例如：如果 `xxx@gmail.com` 被限制，可以尝试 `xxx@outlook.com`

### 方案3：在 Supabase Dashboard 中创建账号（最快）

这是**最快且不受限制**的方法：

1. **打开 Supabase Dashboard**
   - 访问：https://supabase.com/dashboard
   - 选择你的项目

2. **创建用户**
   - 进入：**Authentication** → **Users**
   - 点击 **"Add User"** 或 **"Invite User"**
   - 填写邮箱和密码
   - 点击创建

3. **直接登录**
   - 创建后，用户可以直接使用密码登录
   - 或者使用验证码登录（不受频率限制）

### 方案4：调整 Supabase 速率限制（开发环境）

如果是开发环境，可以在 Supabase Dashboard 中调整限制：

1. **进入项目设置**
   - **Project Settings** → **Auth** → **Rate Limits**

2. **调整限制**
   - 增加每小时发送次数限制
   - ⚠️ **注意**：生产环境不建议调整

## 📝 当前状态

- ✅ 已添加错误倒计时显示
- ✅ 已改进错误提示信息
- ✅ 已提供多种解决方案

## 💡 建议

1. **开发阶段**：使用 Supabase Dashboard 创建测试账号，避免频繁发送验证码
2. **生产环境**：告知用户等待时间，或提供其他登录方式
3. **用户体验**：考虑添加密码登录作为备选方案

## 🔧 临时解决方案

如果急需测试，可以：
1. 在 Supabase Dashboard 中创建用户
2. 使用该用户直接登录（无需验证码）
3. 或者等待 1 小时后重新发送验证码
